//
//  WCWebView.swift
//  WeChatSwift
//
//  Created by alexiscn on 2019/7/29.
//  Copyright Â© 2019 alexiscn. All rights reserved.
//

import WebKit

class WCWebView: WKWebView {
    
    weak var delegate: WCWebViewDelegate?
    
    var scalePageToFit: Bool = true
    
    override init(frame: CGRect, configuration: WKWebViewConfiguration) {
        
        super.init(frame: frame, configuration: configuration)
        
        backgroundColor = .clear
        navigationDelegate = self
    }
    
    required init?(coder: NSCoder) {
        fatalError("init(coder:) has not been implemented")
    }
    
}

// MARK: - WKNavigationDelegate
extension WCWebView: WKNavigationDelegate {
    
    
    func webView(_ webView: WKWebView, didCommit navigation: WKNavigation!) {
        
    }
    
    func webView(_ webView: WKWebView, didFinish navigation: WKNavigation!) {
        delegate?.webView(self, didFinishLoad: navigation)
    }
    
    func webView(_ webView: WKWebView, didStartProvisionalNavigation navigation: WKNavigation!) {
        
    }
    
    func webView(_ webView: WKWebView, didFail navigation: WKNavigation!, withError error: Error) {
        
    }
    
    func webView(_ webView: WKWebView, didReceiveServerRedirectForProvisionalNavigation navigation: WKNavigation!) {
        
    }
    
    func webView(_ webView: WKWebView, didFailProvisionalNavigation navigation: WKNavigation!, withError error: Error) {
        
    }
    
}
